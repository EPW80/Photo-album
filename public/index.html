<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trump Photo Album</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link href="/styles/tailwind.css" rel="stylesheet" />
    <link href="/styles/customStyles.css" rel="stylesheet" />
  </head>
  <body class="bg-gradient-to-r from-slate-50 via-gray-50 to-slate-100 dark:from-slate-950 dark:via-gray-950 dark:to-slate-900 transition-colors duration-300">
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>

    <!-- Dark Mode Toggle -->
    <button
      id="dark-mode-toggle"
      class="fixed top-6 right-6 z-40 p-3 rounded-full bg-white dark:bg-slate-800/90 shadow-lg dark:shadow-[0_0_20px_rgba(251,191,36,0.4)] hover:shadow-xl dark:hover:shadow-[0_0_30px_rgba(251,191,36,0.6)] hover:scale-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900 border-2 border-slate-200 dark:border-yellow-500/60 dark:backdrop-blur-sm"
      aria-label="Toggle dark mode"
    >
      <i class="fas fa-moon text-slate-700 dark:hidden text-xl"></i>
      <i class="fas fa-sun hidden dark:inline text-yellow-400 text-xl drop-shadow-[0_0_8px_rgba(251,191,36,0.8)]"></i>
    </button>

    <div class="container mx-auto px-6 py-12 max-w-7xl">
      <header role="banner" class="title-container">
        <h1 class="title-3d trump">TRUMP</h1>
        <p class="title-3d digital-media">Digital Media</p>
        <div class="border-custom" aria-hidden="true"></div>
      </header>

      <main id="main-content" role="main">
      <!-- Spotify Embed Player (moved from head) -->
      <div class="spotify-container flex justify-center mb-8">
        <iframe
          src="https://open.spotify.com/embed/track/0mrYoMfMj1lLKvHeCZn56X?si=4aa6f6a994dc43ca"
          width="300"
          height="380"
          frameborder="0"
          allowtransparency="true"
          allow="encrypted-media"
          class="rounded-lg shadow-lg"
          title="Spotify player"
        ></iframe>
      </div>

      <!-- Loading Spinner -->
      <div id="loading" class="text-center py-10" role="status" aria-live="polite">
        <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-slate-200 dark:border-slate-700/50 border-t-yellow-600 dark:border-t-yellow-500 dark:shadow-[0_0_20px_rgba(251,191,36,0.3)]"></div>
        <p class="mt-4 text-slate-600 dark:text-slate-300 font-medium">Loading photos...</p>
        <span class="sr-only">Loading photos, please wait</span>
      </div>

      <!-- Error Message -->
      <div id="error-message" class="hidden text-center py-10 text-red-600 dark:text-red-400" role="alert">
        <p>Failed to load photos. Please try again later.</p>
      </div>

      <!-- Photo Grid (populated by JavaScript) -->
      <div
        id="photo-grid"
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"
        role="list"
        aria-label="Photo gallery"
      >
      </div>
      </main>
    </div>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <!-- Backdrop -->
      <div class="absolute inset-0 bg-black/70 dark:bg-black/80 backdrop-blur-md transition-opacity" onclick="closeModal()"></div>

      <!-- Modal content -->
      <div class="relative flex items-center justify-center min-h-screen p-4">
        <div class="modal-content relative bg-white dark:bg-slate-800/95 rounded-2xl shadow-modal dark:shadow-[0_25px_80px_-12px_rgba(0,0,0,0.6),0_0_60px_rgba(251,191,36,0.15)] max-w-4xl w-full overflow-hidden animate-fade-in border-4 border-slate-100 dark:border-yellow-500/40 dark:backdrop-blur-xl">
          <!-- Close button -->
          <button
            onclick="closeModal()"
            class="absolute top-4 right-4 z-10 p-3 rounded-full bg-white/95 dark:bg-slate-700/95 hover:bg-slate-100 dark:hover:bg-slate-600 shadow-lg dark:shadow-yellow-500/30 transition-all focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 border-2 border-slate-200 dark:border-yellow-500/50"
            aria-label="Close modal"
          >
            <i class="fas fa-times text-xl text-slate-700 dark:text-yellow-400"></i>
          </button>

          <!-- Image -->
          <img id="modal-image" class="w-full h-auto border-b-2 border-slate-200 dark:border-yellow-500/30" src="" alt="" />

          <!-- Footer -->
          <div class="p-6 bg-slate-50 dark:bg-gradient-to-b dark:from-slate-800 dark:to-slate-900 border-t-2 border-slate-200 dark:border-yellow-500/20">
            <h3 id="modal-title" class="text-lg font-semibold text-slate-900 dark:text-yellow-400 dark:drop-shadow-[0_0_8px_rgba(251,191,36,0.3)]"></h3>
          </div>
        </div>
      </div>
    </div>

    <!-- Welcome Modal -->
    <div
      id="welcome-modal"
      class="fixed inset-0 z-50 flex items-end sm:items-center justify-center"
      role="dialog"
      aria-labelledby="welcome-title"
    >
      <!-- Backdrop -->
      <div class="absolute inset-0 bg-black/60 dark:bg-black/75 backdrop-blur-md transition-opacity"></div>

      <!-- Modal content -->
      <div class="relative bg-white dark:bg-slate-800/95 rounded-t-3xl sm:rounded-3xl shadow-modal dark:shadow-[0_25px_80px_-12px_rgba(0,0,0,0.6),0_0_50px_rgba(251,191,36,0.2)] max-w-md w-full p-8 animate-slide-up border-4 border-slate-100 dark:border-yellow-500/50 dark:backdrop-blur-xl">
        <!-- Icon -->
        <div class="flex justify-center mb-6">
          <div class="p-4 bg-yellow-100 dark:bg-yellow-900/40 rounded-full shadow-lg dark:shadow-[0_0_30px_rgba(251,191,36,0.4)] border-2 border-yellow-200 dark:border-yellow-500/60">
            <i class="fas fa-images text-4xl text-yellow-600 dark:text-yellow-400 dark:drop-shadow-[0_0_10px_rgba(251,191,36,0.5)]"></i>
          </div>
        </div>

        <h2 id="welcome-title" class="text-2xl font-bold mb-4 text-center text-slate-900 dark:text-yellow-400 dark:drop-shadow-[0_0_10px_rgba(251,191,36,0.4)]">
          Welcome!
        </h2>
        <p class="mb-4 text-slate-600 dark:text-yellow-300/80 text-center leading-relaxed font-medium">
          @proof_ec
        </p>
        <p class="mb-6 text-slate-600 dark:text-slate-300 text-center leading-relaxed">Feel free to download any photos you like. Enjoy!</p>

        <div class="space-y-3">
          <button
            onclick="closeWelcomeModal()"
            class="w-full bg-yellow-600 hover:bg-yellow-700 dark:bg-gradient-to-r dark:from-yellow-500 dark:to-yellow-600 dark:hover:from-yellow-400 dark:hover:to-yellow-500 text-white dark:text-slate-900 px-6 py-3 rounded-xl font-bold transition-all shadow-lg dark:shadow-[0_4px_20px_rgba(251,191,36,0.5)] hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800"
          >
            Explore Gallery
          </button>
          <label class="flex items-center justify-center gap-2 text-sm text-slate-600 dark:text-slate-400 cursor-pointer hover:text-slate-800 dark:hover:text-slate-200 transition-colors">
            <input type="checkbox" id="dont-show-again" class="rounded border-slate-300 dark:border-slate-600 text-yellow-600 dark:text-yellow-500 focus:ring-yellow-500">
            <span>Don't show this again</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-slate-900 dark:bg-gradient-to-b dark:from-slate-900 dark:to-slate-950 text-white py-8 mt-16 border-t-4 border-yellow-600 dark:border-yellow-500/70 dark:shadow-[0_-10px_40px_rgba(251,191,36,0.1)]" role="contentinfo">
      <div class="container mx-auto px-6 max-w-7xl">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
          <p class="text-yellow-400 dark:text-slate-300 text-sm font-bold drop-shadow-[0_2px_8px_rgba(255,215,0,0.5)]">
            @proof_ec
          </p>
          <!-- <a
            href="https://github.com/EPW80"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 text-slate-300 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500 rounded-lg px-3 py-2"
          >
            <img
              src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"
              alt=""
              class="w-6 h-6 rounded-full"
            />
            <span class="font-medium">Erik Williams</span>
            <i class="fas fa-external-link-alt text-xs"></i>
          </a> -->
        </div>
      </div>
    </footer>

    <script src="/js/app.js"></script>
    <script>
      function openModal(url, title) {
        const modal = document.getElementById("modal");
        document.getElementById("modal-image").src = url;
        document.getElementById("modal-image").alt = title || "Photo";
        document.getElementById("modal-title").textContent = title || "Photo";
        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden"; // Prevent background scroll
      }

      // Close modal on ESC key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          const modal = document.getElementById("modal");
          if (!modal.classList.contains("hidden")) {
            closeModal();
          }
        }
      });

      function closeModal() {
        const modal = document.getElementById("modal");
        modal.classList.add("hidden");
        document.body.style.overflow = ""; // Re-enable scroll
      }

      function openWelcomeModal() {
        const hideWelcome = localStorage.getItem("hideWelcome");
        if (hideWelcome !== "true") {
          document.getElementById("welcome-modal").classList.add("show");
        } else {
          document.getElementById("welcome-modal").style.display = "none";
        }
      }

      function closeWelcomeModal() {
        const modal = document.getElementById("welcome-modal");
        const dontShowAgain = document.getElementById("dont-show-again");

        if (dontShowAgain && dontShowAgain.checked) {
          localStorage.setItem("hideWelcome", "true");
        }

        modal.classList.remove("show");
        modal.style.display = "none";
      }

      document.addEventListener("DOMContentLoaded", () => {
        openWelcomeModal();
      });

      // Dark mode functionality
      const darkModeToggle = document.getElementById("dark-mode-toggle");
      const html = document.documentElement;

      // Check for saved preference or system preference
      const savedTheme = localStorage.getItem("theme");
      const systemDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (savedTheme === "dark" || (!savedTheme && systemDark)) {
        html.classList.add("dark");
      }

      darkModeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        localStorage.setItem("theme", html.classList.contains("dark") ? "dark" : "light");
      });
    </script>
  </body>
</html>
